
/**
 *  Generated by mxmlc 4.0
 *
 *  Package:    com.flow.view
 *  Class:      RemoteProceduresView
 *  Source:     /Users/artman/Documents/Flow/examples/src/com/flow/view/RemoteProceduresView.mxml
 *  Template:   flex2/compiler/mxml/gen/ClassDef.vm
 *  Time:       2011.06.10 16:10:19 EEST
 */

package com.flow.view
{

import com.flow.components.Button;
import com.flow.components.Label;
import com.flow.components.Spacing;
import com.flow.components.TextInput;
import com.flow.containers.Container;
import com.flow.containers.HBox;
import com.flow.containers.VBox;
import com.flow.net.AMFGateway;
import com.flow.net.RemoteProcedureAMF;
import com.flow.net.RemoteProcedureHTTP;
import flash.accessibility.*;
import flash.debugger.*;
import flash.display.*;
import flash.errors.*;
import flash.events.*;
import flash.events.MouseEvent;
import flash.external.*;
import flash.geom.*;
import flash.media.*;
import flash.net.*;
import flash.printing.*;
import flash.profiler.*;
import flash.system.*;
import flash.text.*;
import flash.ui.*;
import flash.utils.*;
import flash.xml.*;
import mx.binding.*;
import mx.binding.IBindingClient;
import mx.core.ClassFactory;
import mx.core.DeferredInstanceFromClass;
import mx.core.DeferredInstanceFromFunction;
import mx.core.IDeferredInstance;
import mx.core.IFactory;
import mx.core.IFlexModuleFactory;
import mx.core.IPropertyChangeNotifier;
import mx.core.mx_internal;
import mx.filters.*;
import mx.styles.*;



//  begin class def
public class RemoteProceduresView
    extends com.flow.containers.Container
    implements mx.binding.IBindingClient
{

    //  instance variables
/**
 * @private
 **/
    public var _RemoteProceduresView_Button1 : com.flow.components.Button;

/**
 * @private
 **/
    public var _RemoteProceduresView_Label3 : com.flow.components.Label;

/**
 * @private
 **/
    public var _RemoteProceduresView_Label5 : com.flow.components.Label;

    [Bindable]
	/**
 * @private
 **/
    public var gateway : com.flow.net.AMFGateway;

    [Bindable]
	/**
 * @private
 **/
    public var helloWorld : com.flow.net.RemoteProcedureAMF;

    [Bindable]
	/**
 * @private
 **/
    public var httpRequest : com.flow.net.RemoteProcedureHTTP;

    [Bindable]
	/**
 * @private
 **/
    public var paramInput : com.flow.components.TextInput;

    [Bindable]
	/**
 * @private
 **/
    public var urlInput : com.flow.components.TextInput;


    //  type-import dummies



    //  constructor (non-Flex display object)
    /**
     * @private
     **/
    public function RemoteProceduresView()
    {
        super();










        var bindings:Array = _RemoteProceduresView_bindingsSetup();
        var watchers:Array = [];

        var target:Object = this;

        if (_watcherSetupUtil == null)
        {
            var watcherSetupUtilClass:Object = getDefinitionByName("_com_flow_view_RemoteProceduresViewWatcherSetupUtil");
            watcherSetupUtilClass["init"](null);
        }

        _watcherSetupUtil.setup(this,
                    function(propertyName:String):* { return target[propertyName]; },
                    function(propertyName:String):* { return RemoteProceduresView[propertyName]; },
                    bindings,
                    watchers);

        mx_internal::_bindings = mx_internal::_bindings.concat(bindings);
        mx_internal::_watchers = mx_internal::_watchers.concat(watchers);



        // our style settings



        // layer initializers

       
        // properties
        this.width = 500;
        this.height = 320;
        this.children = _RemoteProceduresView_VBox1_c();
        _RemoteProceduresView_AMFGateway1_i();
        _RemoteProceduresView_RemoteProcedureAMF1_i();
        _RemoteProceduresView_RemoteProcedureHTTP1_i();


        // events


        for (var i:uint = 0; i < bindings.length; i++)
        {
            Binding(bindings[i]).execute();
        }




    }


    //  scripts
    //  <Script>, line 28 - 31

			import com.flow.skins.ButtonSkin;
			import com.flow.skins.TextInputSkin;
		

    //  end scripts


    //  supporting function definitions for properties, events, styles, effects
private function _RemoteProceduresView_AMFGateway1_i() : com.flow.net.AMFGateway
{
	var temp : com.flow.net.AMFGateway = new com.flow.net.AMFGateway();
	temp.url = "http://flow.mikkonen.info/amf/";
	gateway = temp;
	mx.binding.BindingManager.executeBindings(this, "gateway", gateway);
	return temp;
}

private function _RemoteProceduresView_RemoteProcedureAMF1_i() : com.flow.net.RemoteProcedureAMF
{
	var temp : com.flow.net.RemoteProcedureAMF = new com.flow.net.RemoteProcedureAMF();
	temp.procedure = "Service.helloWorld";
	temp.autoSend = true;
	helloWorld = temp;
	mx.binding.BindingManager.executeBindings(this, "helloWorld", helloWorld);
	return temp;
}

private function _RemoteProceduresView_RemoteProcedureHTTP1_i() : com.flow.net.RemoteProcedureHTTP
{
	var temp : com.flow.net.RemoteProcedureHTTP = new com.flow.net.RemoteProcedureHTTP();
	temp.type = "text";
	httpRequest = temp;
	mx.binding.BindingManager.executeBindings(this, "httpRequest", httpRequest);
	return temp;
}

private function _RemoteProceduresView_VBox1_c() : com.flow.containers.VBox
{
	var temp : com.flow.containers.VBox = new com.flow.containers.VBox();
	temp.spacing = 5;
	temp.padding = 10;
	temp.children = [_RemoteProceduresView_Label1_c(), _RemoteProceduresView_Spacing1_c(), _RemoteProceduresView_Label2_c(), _RemoteProceduresView_TextInput1_i(), _RemoteProceduresView_Label3_i(), _RemoteProceduresView_Spacing2_c(), _RemoteProceduresView_Label4_c(), _RemoteProceduresView_HBox1_c(), _RemoteProceduresView_Label5_i()];
	return temp;
}

private function _RemoteProceduresView_Label1_c() : com.flow.components.Label
{
	var temp : com.flow.components.Label = new com.flow.components.Label();
	temp.width = 480;
	temp.text = "Flow does easy remoting procedures, too!";
	temp.left = 10;
	temp.right = 10;
	temp.multiline = true;
	return temp;
}

private function _RemoteProceduresView_Spacing1_c() : com.flow.components.Spacing
{
	var temp : com.flow.components.Spacing = new com.flow.components.Spacing();
	temp.height = 10;
	return temp;
}

private function _RemoteProceduresView_Label2_c() : com.flow.components.Label
{
	var temp : com.flow.components.Label = new com.flow.components.Label();
	temp.text = "Change the input to issue a AMF request";
	temp.textFormat = "bold";
	return temp;
}

private function _RemoteProceduresView_TextInput1_i() : com.flow.components.TextInput
{
	var temp : com.flow.components.TextInput = new com.flow.components.TextInput();
	temp.value = "Flow";
	temp.width = 200;
	paramInput = temp;
	mx.binding.BindingManager.executeBindings(this, "paramInput", paramInput);
	return temp;
}

private function _RemoteProceduresView_Label3_i() : com.flow.components.Label
{
	var temp : com.flow.components.Label = new com.flow.components.Label();
	temp.percentWidth = 100.0;
	temp.height = 50;
	temp.multiline = true;
	temp.align = "left";
	temp.verticalAlign = "top";
	_RemoteProceduresView_Label3 = temp;
	mx.binding.BindingManager.executeBindings(this, "_RemoteProceduresView_Label3", _RemoteProceduresView_Label3);
	return temp;
}

private function _RemoteProceduresView_Spacing2_c() : com.flow.components.Spacing
{
	var temp : com.flow.components.Spacing = new com.flow.components.Spacing();
	temp.height = 10;
	return temp;
}

private function _RemoteProceduresView_Label4_c() : com.flow.components.Label
{
	var temp : com.flow.components.Label = new com.flow.components.Label();
	temp.text = "Type a URL and hit submit to issue a HTTP request";
	temp.textFormat = "bold";
	return temp;
}

private function _RemoteProceduresView_HBox1_c() : com.flow.containers.HBox
{
	var temp : com.flow.containers.HBox = new com.flow.containers.HBox();
	temp.spacing = 5;
	temp.verticalAlign = "middle";
	temp.children = [_RemoteProceduresView_TextInput2_i(), _RemoteProceduresView_Button1_i()];
	return temp;
}

private function _RemoteProceduresView_TextInput2_i() : com.flow.components.TextInput
{
	var temp : com.flow.components.TextInput = new com.flow.components.TextInput();
	temp.value = "http://github.com";
	temp.width = 200;
	urlInput = temp;
	mx.binding.BindingManager.executeBindings(this, "urlInput", urlInput);
	return temp;
}

private function _RemoteProceduresView_Button1_i() : com.flow.components.Button
{
	var temp : com.flow.components.Button = new com.flow.components.Button();
	temp.label = "Fetch";
	temp.addEventListener("click", ___RemoteProceduresView_Button1_click);
	_RemoteProceduresView_Button1 = temp;
	mx.binding.BindingManager.executeBindings(this, "_RemoteProceduresView_Button1", _RemoteProceduresView_Button1);
	return temp;
}

/**
 * @private
 **/
public function ___RemoteProceduresView_Button1_click(event:flash.events.MouseEvent):void
{
	httpRequest.send()
}

private function _RemoteProceduresView_Label5_i() : com.flow.components.Label
{
	var temp : com.flow.components.Label = new com.flow.components.Label();
	temp.width = 480;
	temp.verticalAlign = "top";
	temp.height = 100;
	temp.multiline = true;
	temp.align = "left";
	_RemoteProceduresView_Label5 = temp;
	mx.binding.BindingManager.executeBindings(this, "_RemoteProceduresView_Label5", _RemoteProceduresView_Label5);
	return temp;
}


    //  binding mgmt
    private function _RemoteProceduresView_bindingsSetup():Array
    {
        var result:Array = [];

        result[0] = new mx.binding.Binding(this,
            null,
            null,
            "helloWorld.gateway"
            , "gateway");

        result[1] = new mx.binding.Binding(this,
            function():Array
            {
                var result:* = ([paramInput.value]);
                return ((result == null) || (result is Array) || (result is flash.utils.Proxy) ? result : [result]);
            },
            null,
            "helloWorld.parameters"
            );

        result[2] = new mx.binding.Binding(this,
            function():String
            {
                var result:* = (urlInput.value);
                return (result == undefined ? null : String(result));
            },
            null,
            "httpRequest.url"
            );

        result[3] = new mx.binding.Binding(this,
            function():mx.core.IFactory
            {

                return (new TextInputSkin);
            },
            null,
            "paramInput.skinClass"
            );

        result[4] = new mx.binding.Binding(this,
            function():String
            {
                var result:* = "Result: " + (helloWorld.lastResult);
                return (result == undefined ? null : String(result));
            },
            null,
            "_RemoteProceduresView_Label3.text"
            );

        result[5] = new mx.binding.Binding(this,
            function():mx.core.IFactory
            {

                return (new TextInputSkin);
            },
            null,
            "urlInput.skinClass"
            );

        result[6] = new mx.binding.Binding(this,
            function():mx.core.IFactory
            {

                return (new ButtonSkin);
            },
            null,
            "_RemoteProceduresView_Button1.skinClass"
            );

        result[7] = new mx.binding.Binding(this,
            function():String
            {
                var result:* = "HTTP Result: " + ((httpRequest.lastResult as String).replace(/\n/gi, ''));
                return (result == undefined ? null : String(result));
            },
            null,
            "_RemoteProceduresView_Label5.text"
            );


        return result;
    }


    /**
     * @private
     **/
    public static function set watcherSetupUtil(watcherSetupUtil:IWatcherSetupUtil2):void
    {
        (RemoteProceduresView)._watcherSetupUtil = watcherSetupUtil;
    }

    private static var _watcherSetupUtil:IWatcherSetupUtil2;



    //  embed carrier vars
    //  end embed carrier vars

    //  binding management vars
    /**
     * @private
     **/
    mx_internal var _bindings : Array = [];
    /**
     * @private
     **/
    mx_internal var _watchers : Array = [];
    /**
     * @private
     **/
    mx_internal var _bindingsByDestination : Object = {};
    /**
     * @private
     **/
    mx_internal var _bindingsBeginWithWord : Object = {};

//  end class def
}

//  end package def
}
